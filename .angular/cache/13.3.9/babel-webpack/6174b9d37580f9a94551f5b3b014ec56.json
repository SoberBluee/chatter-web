{"ast":null,"code":"var _asyncToGenerator = require(\"/Users/ethandonovan/Documents/GitHub/chatter-web/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\nconst fs = require('./fs.js');\n\nconst getOptions = require('./common/get-options.js');\n\nconst owner = require('./common/owner.js');\n\nconst copyFile = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (src, dest, opts) {\n    const options = getOptions(opts, {\n      copy: ['mode', 'owner'],\n      wrap: 'mode'\n    });\n    const {\n      uid,\n      gid\n    } = yield owner.validate(dest, options.owner); // the node core method as of 16.5.0 does not support the mode being in an\n    // object, so we have to pass the mode value directly\n\n    const result = yield fs.copyFile(src, dest, options.mode);\n    yield owner.update(dest, uid, gid);\n    return result;\n  });\n\n  return function copyFile(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports = copyFile;","map":{"version":3,"sources":["/Users/ethandonovan/Documents/GitHub/chatter-web/node_modules/@npmcli/fs/lib/copy-file.js"],"names":["fs","require","getOptions","owner","copyFile","src","dest","opts","options","copy","wrap","uid","gid","validate","result","mode","update","module","exports"],"mappings":";;AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,SAAD,CAAlB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,yBAAD,CAA1B;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,mBAAD,CAArB;;AAEA,MAAMG,QAAQ;AAAA,+BAAG,WAAOC,GAAP,EAAYC,IAAZ,EAAkBC,IAAlB,EAA2B;AAC1C,UAAMC,OAAO,GAAGN,UAAU,CAACK,IAAD,EAAO;AAC/BE,MAAAA,IAAI,EAAE,CAAC,MAAD,EAAS,OAAT,CADyB;AAE/BC,MAAAA,IAAI,EAAE;AAFyB,KAAP,CAA1B;AAKA,UAAM;AAAEC,MAAAA,GAAF;AAAOC,MAAAA;AAAP,cAAqBT,KAAK,CAACU,QAAN,CAAeP,IAAf,EAAqBE,OAAO,CAACL,KAA7B,CAA3B,CAN0C,CAQ1C;AACA;;AACA,UAAMW,MAAM,SAASd,EAAE,CAACI,QAAH,CAAYC,GAAZ,EAAiBC,IAAjB,EAAuBE,OAAO,CAACO,IAA/B,CAArB;AAEA,UAAMZ,KAAK,CAACa,MAAN,CAAaV,IAAb,EAAmBK,GAAnB,EAAwBC,GAAxB,CAAN;AAEA,WAAOE,MAAP;AACD,GAfa;;AAAA,kBAARV,QAAQ;AAAA;AAAA;AAAA,GAAd;;AAiBAa,MAAM,CAACC,OAAP,GAAiBd,QAAjB","sourcesContent":["const fs = require('./fs.js')\nconst getOptions = require('./common/get-options.js')\nconst owner = require('./common/owner.js')\n\nconst copyFile = async (src, dest, opts) => {\n  const options = getOptions(opts, {\n    copy: ['mode', 'owner'],\n    wrap: 'mode',\n  })\n\n  const { uid, gid } = await owner.validate(dest, options.owner)\n\n  // the node core method as of 16.5.0 does not support the mode being in an\n  // object, so we have to pass the mode value directly\n  const result = await fs.copyFile(src, dest, options.mode)\n\n  await owner.update(dest, uid, gid)\n\n  return result\n}\n\nmodule.exports = copyFile\n"]},"metadata":{},"sourceType":"script"}